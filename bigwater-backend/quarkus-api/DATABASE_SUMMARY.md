# BigWater æ•°æ®åº“è¡¨åˆ›å»ºå®Œæˆæ€»ç»“

## ğŸ‰ æˆåŠŸå®Œæˆï¼

æˆ‘å·²ç»æˆåŠŸä¸ºBigWateré¡¹ç›®åˆ›å»ºäº†å®Œæ•´çš„æ•°æ®åº“è¡¨ç»“æ„ï¼ŒåŒ…æ‹¬æ‰€æœ‰å¿…è¦çš„JPAå®ä½“ç±»ã€‚

## ğŸ“Š åˆ›å»ºçš„æ•°æ®åº“è¡¨

### 1. ç”¨æˆ·ç®¡ç†æ¨¡å—
- âœ… **users** - ç”¨æˆ·è¡¨ï¼ˆæ”¯æŒè®¢é˜…è€…ã€ç®¡ç†å‘˜ã€è¶…çº§ç®¡ç†å‘˜ï¼‰
- âœ… **usdt_wallets** - USDTé’±åŒ…è¡¨ï¼ˆæ¯ä¸ªç”¨æˆ·å¯æ‹¥æœ‰å¤šä¸ªé’±åŒ…ï¼‰

### 2. å†…å®¹ç®¡ç†æ¨¡å—
- âœ… **journals** - å‘¨åˆŠè¡¨ï¼ˆæ”¯æŒè‰ç¨¿ã€å‘å¸ƒã€å®šæ—¶å‘å¸ƒï¼‰
- âœ… **journal_views** - å‘¨åˆŠæµè§ˆè®°å½•è¡¨ï¼ˆæ”¯æŒåŒ¿åæµè§ˆï¼‰

### 3. æŠ½å¥–ç³»ç»Ÿæ¨¡å—
- âœ… **random_drawings** - æŠ½å¥–è¡¨ï¼ˆæ”¯æŒPowerballã€å½©ç¥¨ã€æŠ½å¥–ï¼‰
- âœ… **drawing_participants** - å‚ä¸è€…è¡¨ï¼ˆè®°å½•å‚ä¸è€…å’Œä¸­å¥–ä¿¡æ¯ï¼‰

### 4. è¯ä¹¦ç³»ç»Ÿæ¨¡å—
- âœ… **certificates** - è¯ä¹¦å®šä¹‰è¡¨ï¼ˆé’é“œã€ç™½é“¶ã€é»„é‡‘ã€é“‚é‡‘ã€é’»çŸ³ç­‰çº§ï¼‰
- âœ… **user_certificates** - ç”¨æˆ·è¯ä¹¦è¡¨ï¼ˆè®°å½•ç”¨æˆ·è´­ä¹°çš„è¯ä¹¦ï¼‰

### 5. æ¨èç³»ç»Ÿæ¨¡å—
- âœ… **referral_relationships** - æ¨èå…³ç³»è¡¨ï¼ˆæ”¯æŒå¤šçº§æ¨èå’Œä½£é‡‘ï¼‰

### 6. äº¤æ˜“ç³»ç»Ÿæ¨¡å—
- âœ… **transactions** - äº¤æ˜“è¡¨ï¼ˆæ”¯æŒå­˜æ¬¾ã€ææ¬¾ã€è´­ä¹°ã€é€€æ¬¾ã€å¥–åŠ±ã€ä½£é‡‘ï¼‰

### 7. æ—¥å¿—ç³»ç»Ÿæ¨¡å—
- âœ… **access_logs** - è®¿é—®æ—¥å¿—è¡¨ï¼ˆè®°å½•æ‰€æœ‰APIè®¿é—®ï¼‰
- âœ… **error_logs** - é”™è¯¯æ—¥å¿—è¡¨ï¼ˆè®°å½•ç³»ç»Ÿé”™è¯¯å’Œå¼‚å¸¸ï¼‰

### 8. ç³»ç»Ÿè®¾ç½®æ¨¡å—
- âœ… **system_settings** - ç³»ç»Ÿè®¾ç½®è¡¨ï¼ˆé”®å€¼å¯¹é…ç½®ç®¡ç†ï¼‰

## ğŸ—ï¸ æŠ€æœ¯å®ç°

### æ•°æ®åº“æŠ€æœ¯æ ˆ
- **æ•°æ®åº“**: MySQL 8.0+
- **ORM**: Hibernate ORM with Panache
- **éªŒè¯**: Jakarta Bean Validation
- **æ¡†æ¶**: Quarkus 3.25.4

### å®ä½“ç±»ç‰¹æ€§
- âœ… å®Œæ•´çš„JPAæ³¨è§£é…ç½®
- âœ… æ•°æ®éªŒè¯æ³¨è§£ï¼ˆ@NotNull, @NotBlank, @Sizeç­‰ï¼‰
- âœ… å…³ç³»æ˜ å°„ï¼ˆ@OneToMany, @ManyToOneç­‰ï¼‰
- âœ… æšä¸¾ç±»å‹æ”¯æŒ
- âœ… æ—¶é—´æˆ³è‡ªåŠ¨ç®¡ç†
- âœ… ç´¢å¼•ä¼˜åŒ–
- âœ… å¤–é”®çº¦æŸ

### æ•°æ®åº“ç‰¹æ€§
- âœ… æ”¯æŒJSONå­—æ®µå­˜å‚¨
- âœ… ç²¾ç¡®çš„é‡‘é¢å­—æ®µï¼ˆDECIMAL(20,8)ï¼‰
- âœ… å®Œæ•´çš„ç´¢å¼•ç­–ç•¥
- âœ… çº§è”åˆ é™¤å’Œæ›´æ–°
- âœ… å”¯ä¸€çº¦æŸ
- âœ… é»˜è®¤å€¼è®¾ç½®

## ğŸ“ æ–‡ä»¶ç»“æ„

```
bigwater-backend/quarkus-api/
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ db/migration/
â”‚   â”‚   â””â”€â”€ V1__Create_initial_tables.sql    # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â””â”€â”€ init.sql                         # åˆå§‹åŒ–æ•°æ®è„šæœ¬
â”‚   â””â”€â”€ application.properties               # åº”ç”¨é…ç½®
â”œâ”€â”€ src/main/java/com/app6768688/entity/
â”‚   â”œâ”€â”€ User.java                           # ç”¨æˆ·å®ä½“
â”‚   â”œâ”€â”€ UsdtWallet.java                     # é’±åŒ…å®ä½“
â”‚   â”œâ”€â”€ Journal.java                        # å‘¨åˆŠå®ä½“
â”‚   â”œâ”€â”€ JournalView.java                    # æµè§ˆè®°å½•å®ä½“
â”‚   â”œâ”€â”€ RandomDrawing.java                  # æŠ½å¥–å®ä½“
â”‚   â”œâ”€â”€ DrawingParticipant.java             # å‚ä¸è€…å®ä½“
â”‚   â”œâ”€â”€ Certificate.java                    # è¯ä¹¦å®ä½“
â”‚   â”œâ”€â”€ UserCertificate.java                # ç”¨æˆ·è¯ä¹¦å®ä½“
â”‚   â”œâ”€â”€ ReferralRelationship.java           # æ¨èå…³ç³»å®ä½“
â”‚   â”œâ”€â”€ Transaction.java                    # äº¤æ˜“å®ä½“
â”‚   â”œâ”€â”€ AccessLog.java                      # è®¿é—®æ—¥å¿—å®ä½“
â”‚   â”œâ”€â”€ ErrorLog.java                       # é”™è¯¯æ—¥å¿—å®ä½“
â”‚   â””â”€â”€ SystemSetting.java                  # ç³»ç»Ÿè®¾ç½®å®ä½“
â”œâ”€â”€ DATABASE.md                             # è¯¦ç»†æ•°æ®åº“æ–‡æ¡£
â””â”€â”€ DATABASE_SUMMARY.md                     # æœ¬æ€»ç»“æ–‡æ¡£
```

## ğŸ”§ é…ç½®æ›´æ–°

### pom.xml ä¾èµ–
å·²æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š
- `quarkus-hibernate-orm-panache` - Hibernate ORM with Panache
- `quarkus-jdbc-mysql` - MySQLæ•°æ®åº“è¿æ¥
- `quarkus-hibernate-validator` - æ•°æ®éªŒè¯

### application.properties
å·²é…ç½®ï¼š
- æ•°æ®åº“è¿æ¥é…ç½®
- Hibernateé…ç½®
- è¿ç§»è„šæœ¬è·¯å¾„
- CORSé…ç½®
- Swagger UIé…ç½®

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. æ•°æ®åº“åˆå§‹åŒ–
```bash
# å¯åŠ¨MySQLæ•°æ®åº“
cd script/docker
docker-compose up -d bw-mysql

# è¿è¡Œè¿ç§»è„šæœ¬
mysql -h localhost -P 3306 -u root -p bwdb < src/main/resources/db/migration/V1__Create_initial_tables.sql

# æ’å…¥åˆå§‹æ•°æ®
mysql -h localhost -P 3306 -u root -p bwdb < src/main/resources/db/init.sql
```

### 2. å¯åŠ¨Quarkusåº”ç”¨
```bash
cd bigwater-backend/quarkus-api
./mvnw quarkus:dev
```

### 3. éªŒè¯API
- è®¿é—®: http://localhost:8080/bw-api
- Swaggeræ–‡æ¡£: http://localhost:8080/swagger-ui

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### ç”¨æˆ·ç³»ç»Ÿ
- âœ… å¤šè§’è‰²æ”¯æŒï¼ˆè®¢é˜…è€…ã€ç®¡ç†å‘˜ã€è¶…çº§ç®¡ç†å‘˜ï¼‰
- âœ… æ¨èç³»ç»Ÿï¼ˆé»˜è®¤å…¬å¸æ¨èç ï¼šCOMPANY001ï¼‰
- âœ… å¤šé’±åŒ…æ”¯æŒï¼ˆä¸»é’±åŒ…ã€äº¤æ˜“é’±åŒ…ã€è´¨æŠ¼é’±åŒ…ã€å¥–åŠ±é’±åŒ…ï¼‰

### å†…å®¹ç³»ç»Ÿ
- âœ… å‘¨åˆŠç®¡ç†ï¼ˆè‰ç¨¿ã€å‘å¸ƒã€å®šæ—¶å‘å¸ƒï¼‰
- âœ… æµè§ˆç»Ÿè®¡ï¼ˆæ”¯æŒåŒ¿åæµè§ˆï¼‰
- âœ… æ ‡ç­¾ç³»ç»Ÿ
- âœ… ç‰¹è‰²å†…å®¹æ ‡è®°

### æŠ½å¥–ç³»ç»Ÿ
- âœ… å¤šç§æŠ½å¥–ç±»å‹ï¼ˆPowerballã€å½©ç¥¨ã€æŠ½å¥–ï¼‰
- âœ… å‚ä¸è€…ç®¡ç†
- âœ… ä¸­å¥–è®°å½•
- âœ… å¥–é‡‘æ± ç®¡ç†

### è¯ä¹¦ç³»ç»Ÿ
- âœ… 5ä¸ªç­‰çº§è¯ä¹¦ï¼ˆé’é“œåˆ°é’»çŸ³ï¼‰
- âœ… æœ‰æ•ˆæœŸç®¡ç†
- âœ… ä¾›åº”é‡æ§åˆ¶
- âœ… ç¦åˆ©é…ç½®ï¼ˆJSONæ ¼å¼ï¼‰

### æ¨èç³»ç»Ÿ
- âœ… å¤šçº§æ¨èï¼ˆç›´æ¥ã€é—´æ¥ï¼‰
- âœ… ä½£é‡‘è®¡ç®—
- âœ… æ”¶ç›Šç»Ÿè®¡

### äº¤æ˜“ç³»ç»Ÿ
- âœ… å¤šç§äº¤æ˜“ç±»å‹
- âœ… åŒºå—é“¾äº¤æ˜“å“ˆå¸Œè®°å½•
- âœ… äº¤æ˜“çŠ¶æ€ç®¡ç†
- âœ… å…ƒæ•°æ®å­˜å‚¨

### æ—¥å¿—ç³»ç»Ÿ
- âœ… å®Œæ•´çš„è®¿é—®æ—¥å¿—
- âœ… é”™è¯¯æ—¥å¿—åˆ†çº§
- âœ… æ€§èƒ½ç›‘æ§
- âœ… å®‰å…¨å®¡è®¡

## ğŸ¯ é¡¹ç›®ä¼˜åŠ¿

1. **å®Œæ•´çš„ä¸šåŠ¡æ¨¡å‹** - è¦†ç›–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
2. **é«˜æ€§èƒ½è®¾è®¡** - åˆç†çš„ç´¢å¼•å’Œå…³ç³»è®¾è®¡
3. **å¯æ‰©å±•æ¶æ„** - æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•
4. **æ•°æ®å®‰å…¨** - å®Œæ•´çš„æ—¥å¿—å’Œå®¡è®¡åŠŸèƒ½
5. **å¼€å‘å‹å¥½** - ä½¿ç”¨ç°ä»£JavaæŠ€æœ¯æ ˆ
6. **ç”Ÿäº§å°±ç»ª** - åŒ…å«æ‰€æœ‰å¿…è¦çš„é…ç½®å’Œæ–‡æ¡£

## ğŸ“ æ”¯æŒ

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¼€å‘ï¼Œè¯·éšæ—¶è”ç³»ï¼

---

**BigWater Digital Weekly Journal** - å®Œæ•´çš„æ•°å­—å‘¨åˆŠå¹³å° ğŸš€
