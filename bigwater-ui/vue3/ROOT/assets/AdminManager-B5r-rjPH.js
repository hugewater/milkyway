import{r as p,c,i as T,b as d,w as D,A as S,d as e,a as u,k as x,t as n,l as o,v as y,F as V,e as L,n as A,p as $,m,q as v}from"./index-CvIRPuv_.js";const P={class:"p-4 lg:p-6"},B={class:"flex items-center justify-between mb-6"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},E={class:"card p-6 rounded-2xl"},z={class:"flex items-center"},j={class:"ml-4"},F={class:"text-2xl font-bold text-deep-ocean"},H={class:"card p-6 rounded-2xl"},q={class:"flex items-center"},W={class:"ml-4"},I={class:"text-2xl font-bold text-deep-ocean"},Q={class:"card p-6 rounded-2xl"},Y={class:"flex items-center"},Z={class:"ml-4"},G={class:"text-2xl font-bold text-deep-ocean"},X={class:"card p-6 rounded-2xl"},K={class:"flex items-center justify-between mb-6"},O={class:"flex space-x-4"},ee={class:"overflow-x-auto"},se={class:"w-full"},te={class:"py-3 px-4"},le={class:"flex items-center space-x-3"},ae={class:"w-10 h-10 bg-ocean rounded-full flex items-center justify-center text-white text-sm font-medium"},oe={class:"text-sm font-medium text-gray-900"},ne={class:"text-xs text-gray-500"},ie={class:"py-3 px-4"},re={class:"py-3 px-4"},de={class:"space-y-1"},ue={key:0,class:"text-xs"},me={class:"font-mono"},pe={key:1,class:"text-xs"},ve={class:"font-mono"},xe={key:2,class:"text-xs"},ge={class:"font-mono"},fe={class:"py-3 px-4 text-sm text-gray-900"},be={class:"py-3 px-4"},ce={class:"py-3 px-4"},ye={class:"flex space-x-2"},we=["onClick"],ke=["onClick"],Ae=["onClick"],Ne={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},he={class:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto"},_e={class:"text-lg font-bold text-deep-ocean mb-4"},Ue={class:"grid grid-cols-2 gap-4"},Re={key:0},Me={class:"border-t pt-4"},Ce={class:"space-y-3"},Te={class:"border-t pt-4"},De={class:"grid grid-cols-2 gap-3"},Se={class:"flex items-center"},Ve={class:"flex items-center"},Le={class:"flex items-center"},$e={class:"flex items-center"},Pe={class:"flex items-center"},Be={class:"flex items-center"},Je={class:"flex space-x-3 pt-4"},Ee={type:"submit",class:"flex-1 btn-primary"},Fe={__name:"AdminManager",setup(ze){const b=p(!1),r=p(null),g=p(""),f=p(""),l=p({firstName:"",lastName:"",email:"",password:"",adminRole:"admin",wallets:{usdt:"",btc:"",eth:""},permissions:{manageUsers:!0,managePayments:!1,manageTokens:!1,manageDrawings:!1,manageJournals:!1,viewReports:!0}}),i=p([{id:1,firstName:"Main",lastName:"Admin",name:"Main Admin",email:"tao1919@proton.me",adminRole:"super_admin",status:"active",lastLogin:"2024-08-22 14:30",initials:"MA",wallets:{usdt:"TQn9Y2khEsLMJ4ibMQTBBj...XvzUDWY9bq",btc:"1A1zP1eP5QGefi2DMPTfTL...5vHAHvZf",eth:"0x742d35Cc6610C8...f78A42C967F3a"},permissions:{manageUsers:!0,managePayments:!0,manageTokens:!0,manageDrawings:!0,manageJournals:!0,viewReports:!0}},{id:2,firstName:"John",lastName:"Manager",name:"John Manager",email:"john.manager@bigwater.com",adminRole:"admin",status:"active",lastLogin:"2024-08-21 09:15",initials:"JM",wallets:{usdt:"TLsV52sRDL5DZ46H...R8E7k5M9u2dA",btc:"",eth:"0x8ba1f109551bD4...2Fe2C4E2553448"},permissions:{manageUsers:!0,managePayments:!1,manageTokens:!1,manageDrawings:!0,manageJournals:!0,viewReports:!0}},{id:3,firstName:"Sarah",lastName:"Support",name:"Sarah Support",email:"sarah.support@bigwater.com",adminRole:"admin",status:"inactive",lastLogin:"2024-08-15 16:45",initials:"SS",wallets:{usdt:"TPYmHEhy5n8TCe...L3zmHDUmgLqobf",btc:"",eth:""},permissions:{manageUsers:!1,managePayments:!1,manageTokens:!1,manageDrawings:!1,manageJournals:!0,viewReports:!0}}]),N=c(()=>i.value.filter(a=>a.status==="active")),h=c(()=>i.value.filter(a=>a.adminRole==="super_admin")),_=c(()=>{let a=i.value;return g.value&&(a=a.filter(s=>s.status===g.value)),f.value&&(a=a.filter(s=>s.adminRole===f.value)),a}),U=a=>{r.value=a,l.value={firstName:a.firstName,lastName:a.lastName,email:a.email,password:"",adminRole:a.adminRole,wallets:{...a.wallets},permissions:{...a.permissions}}},w=()=>{b.value=!1,r.value=null,l.value={firstName:"",lastName:"",email:"",password:"",adminRole:"admin",wallets:{usdt:"",btc:"",eth:""},permissions:{manageUsers:!0,managePayments:!1,manageTokens:!1,manageDrawings:!1,manageJournals:!1,viewReports:!0}}},R=()=>{if(r.value){const a=i.value.findIndex(s=>s.id===r.value.id);a!==-1&&(i.value[a]={...i.value[a],firstName:l.value.firstName,lastName:l.value.lastName,name:`${l.value.firstName} ${l.value.lastName}`,email:l.value.email,adminRole:l.value.adminRole,wallets:{...l.value.wallets},permissions:{...l.value.permissions},initials:`${l.value.firstName[0]}${l.value.lastName[0]}`.toUpperCase()})}else{const a={id:Date.now(),firstName:l.value.firstName,lastName:l.value.lastName,name:`${l.value.firstName} ${l.value.lastName}`,email:l.value.email,adminRole:l.value.adminRole,status:"active",lastLogin:"Never",initials:`${l.value.firstName[0]}${l.value.lastName[0]}`.toUpperCase(),wallets:{...l.value.wallets},permissions:{...l.value.permissions}};i.value.push(a)}w()},M=a=>{a.status==="active"?a.status="suspended":a.status="active"},C=a=>{if(a.email==="tao1919@proton.me"){alert("Cannot delete the main super admin!");return}if(confirm(`Are you sure you want to delete ${a.name}? This action cannot be undone.`)){const s=i.value.findIndex(t=>t.id===a.id);s!==-1&&i.value.splice(s,1)}};return(a,s)=>(d(),T(S,null,{default:D(()=>[e("div",P,[e("div",B,[s[17]||(s[17]=e("h1",{class:"text-2xl font-bold text-deep-ocean"},"Admin Manager",-1)),e("button",{onClick:s[0]||(s[0]=t=>b.value=!0),class:"btn-primary"}," Add New Admin ")]),e("div",J,[e("div",E,[e("div",z,[s[19]||(s[19]=e("div",{class:"p-3 rounded-full bg-blue-100"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),e("div",j,[s[18]||(s[18]=e("p",{class:"text-sm text-gray-600"},"Total Admins",-1)),e("p",F,n(i.value.length),1)])])]),e("div",H,[e("div",q,[s[21]||(s[21]=e("div",{class:"p-3 rounded-full bg-green-100"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})])],-1)),e("div",W,[s[20]||(s[20]=e("p",{class:"text-sm text-gray-600"},"Active Admins",-1)),e("p",I,n(N.value.length),1)])])]),e("div",Q,[e("div",Y,[s[23]||(s[23]=e("div",{class:"p-3 rounded-full bg-yellow-100"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 0h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),e("div",Z,[s[22]||(s[22]=e("p",{class:"text-sm text-gray-600"},"Super Admins",-1)),e("p",G,n(h.value.length),1)])])])]),e("div",X,[e("div",K,[s[26]||(s[26]=e("h3",{class:"text-lg font-bold text-deep-ocean"},"Admin Users",-1)),e("div",O,[o(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>g.value=t),class:"border border-gray-300 rounded-lg px-3 py-2 text-sm"},[...s[24]||(s[24]=[e("option",{value:""},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1),e("option",{value:"suspended"},"Suspended",-1)])],512),[[y,g.value]]),o(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>f.value=t),class:"border border-gray-300 rounded-lg px-3 py-2 text-sm"},[...s[25]||(s[25]=[e("option",{value:""},"All Roles",-1),e("option",{value:"admin"},"Admin",-1),e("option",{value:"super_admin"},"Super Admin",-1)])],512),[[y,f.value]])])]),e("div",ee,[e("table",se,[s[30]||(s[30]=e("thead",null,[e("tr",{class:"border-b border-gray-200"},[e("th",{class:"text-left py-3 px-4 text-sm font-semibold text-gray-700"},"Admin"),e("th",{class:"text-left py-3 px-4 text-sm font-semibold text-gray-700"},"Role"),e("th",{class:"text-left py-3 px-4 text-sm font-semibold text-gray-700"},"Wallets"),e("th",{class:"text-left py-3 px-4 text-sm font-semibold text-gray-700"},"Last Login"),e("th",{class:"text-left py-3 px-4 text-sm font-semibold text-gray-700"},"Status"),e("th",{class:"text-left py-3 px-4 text-sm font-semibold text-gray-700"},"Actions")])],-1)),e("tbody",null,[(d(!0),u(V,null,L(_.value,t=>(d(),u("tr",{key:t.id,class:"border-b border-gray-100"},[e("td",te,[e("div",le,[e("div",ae,n(t.initials),1),e("div",null,[e("p",oe,n(t.name),1),e("p",ne,n(t.email),1)])])]),e("td",ie,[e("span",{class:A(`px-2 py-1 rounded-full text-xs font-medium ${t.adminRole==="super_admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`)},n(t.adminRole==="super_admin"?"Super Admin":"Admin"),3)]),e("td",re,[e("div",de,[t.wallets.usdt?(d(),u("div",ue,[s[27]||(s[27]=e("span",{class:"text-gray-500"},"USDT:",-1)),e("span",me,n(t.wallets.usdt.substring(0,8))+"...",1)])):x("",!0),t.wallets.btc?(d(),u("div",pe,[s[28]||(s[28]=e("span",{class:"text-gray-500"},"BTC:",-1)),e("span",ve,n(t.wallets.btc.substring(0,8))+"...",1)])):x("",!0),t.wallets.eth?(d(),u("div",xe,[s[29]||(s[29]=e("span",{class:"text-gray-500"},"ETH:",-1)),e("span",ge,n(t.wallets.eth.substring(0,8))+"...",1)])):x("",!0)])]),e("td",fe,n(t.lastLogin),1),e("td",be,[e("span",{class:A(`px-2 py-1 rounded-full text-xs font-medium ${t.status==="active"?"bg-green-100 text-green-800":t.status==="inactive"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`)},n(t.status),3)]),e("td",ce,[e("div",ye,[e("button",{onClick:k=>U(t),class:"text-blue-600 hover:text-blue-800 text-sm"}," Edit ",8,we),e("button",{onClick:k=>M(t),class:"text-orange-600 hover:text-orange-800 text-sm"},n(t.status==="active"?"Suspend":"Activate"),9,ke),e("button",{onClick:k=>C(t),class:"text-red-600 hover:text-red-800 text-sm"}," Delete ",8,Ae)])])]))),128))])])])]),b.value||r.value?(d(),u("div",Ne,[e("div",he,[e("h3",_e,n(r.value?"Edit Admin":"Add New Admin"),1),e("form",{onSubmit:$(R,["prevent"]),class:"space-y-4"},[e("div",Ue,[e("div",null,[s[31]||(s[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"First Name *",-1)),o(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>l.value.firstName=t),type:"text",required:"",class:"w-full border border-gray-300 rounded-lg px-3 py-2"},null,512),[[m,l.value.firstName]])]),e("div",null,[s[32]||(s[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Last Name *",-1)),o(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>l.value.lastName=t),type:"text",required:"",class:"w-full border border-gray-300 rounded-lg px-3 py-2"},null,512),[[m,l.value.lastName]])])]),e("div",null,[s[33]||(s[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email Address *",-1)),o(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>l.value.email=t),type:"email",required:"",class:"w-full border border-gray-300 rounded-lg px-3 py-2"},null,512),[[m,l.value.email]])]),r.value?x("",!0):(d(),u("div",Re,[s[34]||(s[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password *",-1)),o(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>l.value.password=t),type:"password",required:"",class:"w-full border border-gray-300 rounded-lg px-3 py-2"},null,512),[[m,l.value.password]])])),e("div",null,[s[36]||(s[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Admin Role",-1)),o(e("select",{"onUpdate:modelValue":s[7]||(s[7]=t=>l.value.adminRole=t),class:"w-full border border-gray-300 rounded-lg px-3 py-2"},[...s[35]||(s[35]=[e("option",{value:"admin"},"Admin",-1),e("option",{value:"super_admin"},"Super Admin",-1)])],512),[[y,l.value.adminRole]])]),e("div",Me,[s[40]||(s[40]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"Wallet Information",-1)),e("div",Ce,[e("div",null,[s[37]||(s[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"USDT Wallet Address",-1)),o(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>l.value.wallets.usdt=t),type:"text",class:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"TRC20 USDT wallet address"},null,512),[[m,l.value.wallets.usdt]])]),e("div",null,[s[38]||(s[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Bitcoin Wallet Address",-1)),o(e("input",{"onUpdate:modelValue":s[9]||(s[9]=t=>l.value.wallets.btc=t),type:"text",class:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Bitcoin wallet address"},null,512),[[m,l.value.wallets.btc]])]),e("div",null,[s[39]||(s[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ethereum Wallet Address",-1)),o(e("input",{"onUpdate:modelValue":s[10]||(s[10]=t=>l.value.wallets.eth=t),type:"text",class:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Ethereum wallet address"},null,512),[[m,l.value.wallets.eth]])])])]),e("div",Te,[s[47]||(s[47]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"Permissions",-1)),e("div",De,[e("label",Se,[o(e("input",{"onUpdate:modelValue":s[11]||(s[11]=t=>l.value.permissions.manageUsers=t),type:"checkbox",class:"mr-2"},null,512),[[v,l.value.permissions.manageUsers]]),s[41]||(s[41]=e("span",{class:"text-sm"},"Manage Users",-1))]),e("label",Ve,[o(e("input",{"onUpdate:modelValue":s[12]||(s[12]=t=>l.value.permissions.managePayments=t),type:"checkbox",class:"mr-2"},null,512),[[v,l.value.permissions.managePayments]]),s[42]||(s[42]=e("span",{class:"text-sm"},"Manage Payments",-1))]),e("label",Le,[o(e("input",{"onUpdate:modelValue":s[13]||(s[13]=t=>l.value.permissions.manageTokens=t),type:"checkbox",class:"mr-2"},null,512),[[v,l.value.permissions.manageTokens]]),s[43]||(s[43]=e("span",{class:"text-sm"},"Manage Tokens",-1))]),e("label",$e,[o(e("input",{"onUpdate:modelValue":s[14]||(s[14]=t=>l.value.permissions.manageDrawings=t),type:"checkbox",class:"mr-2"},null,512),[[v,l.value.permissions.manageDrawings]]),s[44]||(s[44]=e("span",{class:"text-sm"},"Manage Drawings",-1))]),e("label",Pe,[o(e("input",{"onUpdate:modelValue":s[15]||(s[15]=t=>l.value.permissions.manageJournals=t),type:"checkbox",class:"mr-2"},null,512),[[v,l.value.permissions.manageJournals]]),s[45]||(s[45]=e("span",{class:"text-sm"},"Manage Journals",-1))]),e("label",Be,[o(e("input",{"onUpdate:modelValue":s[16]||(s[16]=t=>l.value.permissions.viewReports=t),type:"checkbox",class:"mr-2"},null,512),[[v,l.value.permissions.viewReports]]),s[46]||(s[46]=e("span",{class:"text-sm"},"View Reports",-1))])])]),e("div",Je,[e("button",Ee,n(r.value?"Update Admin":"Add Admin"),1),e("button",{type:"button",onClick:w,class:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400"}," Cancel ")])],32)])])):x("",!0)])]),_:1}))}};export{Fe as default};
